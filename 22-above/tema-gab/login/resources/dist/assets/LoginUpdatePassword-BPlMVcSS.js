import{j as s,r as m}from"./index-C1swb0FA.js";import{g as w,a as x}from"./KcPage-C3DXFsxa.js";function C(c){const{kcContext:e,i18n:r,doUseDefaultCss:t,Template:d,classes:l}=c,{kcClsx:a}=w({doUseDefaultCss:t,classes:l}),{msg:i,msgStr:n}=r,{url:j,messagesPerField:o,isAppInitiatedAction:p}=e;return s.jsx(d,Object.assign({kcContext:e,i18n:r,doUseDefaultCss:t,classes:l,displayMessage:!o.existsError("password","password-confirm"),headerNode:i("updatePasswordTitle")},{children:s.jsxs("form",Object.assign({id:"kc-passwd-update-form",className:a("kcFormClass"),action:j.loginAction,method:"post"},{children:[s.jsx("div",Object.assign({className:a("kcFormGroupClass")},{children:s.jsxs("div",Object.assign({className:a("kcLabelWrapperClass")},{children:[s.jsx("label",Object.assign({htmlFor:"password-new",className:a("kcLabelClass")},{children:i("passwordNew")})),s.jsxs("div",Object.assign({className:a("kcInputWrapperClass")},{children:[s.jsx(u,Object.assign({kcClsx:a,i18n:r,passwordInputId:"password-new"},{children:s.jsx("input",{type:"password",id:"password-new",name:"password-new",className:a("kcInputClass"),autoFocus:!0,autoComplete:"new-password","aria-invalid":o.existsError("password","password-confirm")})})),o.existsError("password")&&s.jsx("span",Object.assign({id:"input-error-password",className:a("kcInputErrorMessageClass"),"aria-live":"polite"},{children:o.get("password")}))]}))]}))})),s.jsxs("div",Object.assign({className:a("kcFormGroupClass")},{children:[s.jsx("div",Object.assign({className:a("kcLabelWrapperClass")},{children:s.jsx("label",Object.assign({htmlFor:"password-confirm",className:a("kcLabelClass")},{children:i("passwordConfirm")}))})),s.jsxs("div",Object.assign({className:a("kcInputWrapperClass")},{children:[s.jsx(u,Object.assign({kcClsx:a,i18n:r,passwordInputId:"password-confirm"},{children:s.jsx("input",{type:"password",id:"password-confirm",name:"password-confirm",className:a("kcInputClass"),autoFocus:!0,autoComplete:"new-password","aria-invalid":o.existsError("password","password-confirm")})})),o.existsError("password-confirm")&&s.jsx("span",Object.assign({id:"input-error-password-confirm",className:a("kcInputErrorMessageClass"),"aria-live":"polite"},{children:o.get("password-confirm")}))]})),s.jsxs("div",Object.assign({className:a("kcFormGroupClass")},{children:[s.jsx(g,{kcClsx:a,i18n:r}),s.jsxs("div",Object.assign({id:"kc-form-buttons",className:a("kcFormButtonsClass")},{children:[s.jsx("input",{className:a("kcButtonClass","kcButtonPrimaryClass",p&&"kcButtonBlockClass","kcButtonLargeClass"),type:"submit",value:n("doSubmit")}),p&&s.jsx("button",Object.assign({className:a("kcButtonClass","kcButtonDefaultClass","kcButtonLargeClass"),type:"submit",name:"cancel-aia",value:"true"},{children:i("doCancel")}))]}))]}))]}))]}))}))}function g(c){const{kcClsx:e,i18n:r}=c,{msg:t}=r;return s.jsx("div",Object.assign({id:"kc-form-options",className:e("kcFormOptionsClass")},{children:s.jsx("div",Object.assign({className:e("kcFormOptionsWrapperClass")},{children:s.jsx("div",Object.assign({className:"checkbox"},{children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",id:"logout-sessions",name:"logout-sessions",value:"on",defaultChecked:!0}),t("logoutOtherSessions")]})}))}))}))}function u(c){const{kcClsx:e,i18n:r,passwordInputId:t,children:d}=c,{msgStr:l}=r,[a,i]=m.useReducer(n=>!n,!1);return m.useEffect(()=>{const n=document.getElementById(t);x.assert(n instanceof HTMLInputElement),n.type=a?"text":"password"},[a]),s.jsxs("div",Object.assign({className:e("kcInputGroup")},{children:[d,s.jsx("button",Object.assign({type:"button",className:e("kcFormPasswordVisibilityButtonClass"),"aria-label":l(a?"hidePassword":"showPassword"),"aria-controls":t,onClick:i},{children:s.jsx("i",{className:e(a?"kcFormPasswordVisibilityIconHide":"kcFormPasswordVisibilityIconShow"),"aria-hidden":!0})}))]}))}export{C as default};
