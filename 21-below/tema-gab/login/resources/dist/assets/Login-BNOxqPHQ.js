import{r as x,j as s}from"./index-C1swb0FA.js";import{g as f,c as g,a as F}from"./KcPage-C3DXFsxa.js";function A(m){var j;const{kcContext:o,i18n:n,doUseDefaultCss:t,Template:u,classes:d}=m,{kcClsx:e}=f({doUseDefaultCss:t,classes:d}),{social:l,realm:a,url:p,usernameHidden:h,login:k,auth:C,registrationDisabled:w,messagesPerField:c}=o,{msg:r,msgStr:b}=n,[v,I]=x.useState(!1);return s.jsx(u,{kcContext:o,i18n:n,doUseDefaultCss:t,classes:d,displayMessage:!c.existsError("username","password"),headerNode:r("loginAccountTitle"),displayInfo:a.password&&a.registrationAllowed&&!w,infoNode:s.jsx("div",{id:"kc-registration-container",children:s.jsx("div",{id:"kc-registration",children:s.jsxs("span",{children:[r("noAccount")," ",s.jsx("a",{tabIndex:8,href:p.registrationUrl,children:r("doRegister")})]})})}),socialProvidersNode:s.jsx(s.Fragment,{children:a.password&&((j=l.providers)==null?void 0:j.length)&&s.jsxs("div",{id:"kc-social-providers",className:e("kcFormSocialAccountSectionClass"),children:[s.jsx("hr",{}),s.jsx("h2",{children:r("identity-provider-login-label")}),s.jsx("ul",{className:e("kcFormSocialAccountListClass",l.providers.length>3&&"kcFormSocialAccountListGridClass"),children:l.providers.map((...[i,,N])=>s.jsx("li",{children:s.jsxs("a",{id:`social-${i.alias}`,className:e("kcFormSocialAccountListButtonClass",N.length>3&&"kcFormSocialAccountGridItem"),type:"button",href:i.loginUrl,children:[i.iconClasses&&s.jsx("i",{className:g(e("kcCommonLogoIdP"),i.iconClasses),"aria-hidden":"true"}),s.jsx("span",{className:g(e("kcFormSocialAccountNameClass"),i.iconClasses&&"kc-social-icon-text"),children:i.displayName})]})},i.alias))})]})}),children:s.jsx("div",{id:"kc-form",children:s.jsx("div",{id:"kc-form-wrapper",children:a.password&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:c.existsError("username","password")&&s.jsx("span",{id:"input-error",className:e("kcInputErrorMessageClass"),"aria-live":"polite",children:c.getFirstError("username","password")})}),s.jsxs("form",{id:"kc-form-login",onSubmit:()=>(I(!0),!0),action:p.loginAction,method:"post",children:[!h&&s.jsxs("div",{className:e("kcFormGroupClass"),children:[s.jsx("label",{htmlFor:"username",className:e("kcLabelClass"),children:a.loginWithEmailAllowed?a.registrationEmailAsUsername?r("email"):r("usernameOrEmail"):r("username")}),s.jsx("input",{tabIndex:2,id:"username",className:e("kcInputClass"),name:"username",defaultValue:k.username??"",type:"text",autoFocus:!0,autoComplete:"username","aria-invalid":c.existsError("username","password")})]}),s.jsxs("div",{className:e("kcFormGroupClass"),children:[s.jsx("label",{htmlFor:"password",className:e("kcLabelClass"),children:r("password")}),s.jsx(y,{kcClsx:e,i18n:n,passwordInputId:"password",children:s.jsx("input",{tabIndex:3,id:"password",className:e("kcInputClass"),name:"password",type:"password",autoComplete:"current-password","aria-invalid":c.existsError("username","password")})})]}),s.jsxs("div",{className:e("kcFormGroupClass","kcFormSettingClass"),children:[s.jsx("div",{id:"kc-form-options",children:a.rememberMe&&!h&&s.jsx("div",{className:"checkbox",children:s.jsxs("label",{children:[s.jsx("input",{tabIndex:5,id:"rememberMe",name:"rememberMe",type:"checkbox",defaultChecked:!!k.rememberMe})," ",r("rememberMe")]})})}),s.jsx("div",{className:e("kcFormOptionsWrapperClass"),children:a.resetPasswordAllowed&&s.jsx("span",{children:s.jsx("a",{tabIndex:6,href:p.loginResetCredentialsUrl,children:r("doForgotPassword")})})})]}),s.jsxs("div",{id:"kc-form-buttons",className:e("kcFormGroupClass"),children:[s.jsx("input",{type:"hidden",id:"id-hidden-input",name:"credentialId",value:C.selectedCredential}),s.jsx("input",{tabIndex:7,disabled:v,className:e("kcButtonClass","kcButtonPrimaryClass","kcButtonBlockClass","kcButtonLargeClass"),name:"login",id:"kc-login",type:"submit",value:b("doLogIn")})]})]})]})})})})}function y(m){const{kcClsx:o,i18n:n,passwordInputId:t,children:u}=m,{msgStr:d}=n,[e,l]=x.useReducer(a=>!a,!1);return x.useEffect(()=>{const a=document.getElementById(t);F.assert(a instanceof HTMLInputElement),a.type=e?"text":"password"},[e]),s.jsxs("div",{className:o("kcInputGroup"),children:[u,s.jsx("button",{type:"button",className:o("kcFormPasswordVisibilityButtonClass"),"aria-label":d(e?"hidePassword":"showPassword"),"aria-controls":t,onClick:l,children:s.jsx("i",{className:o(e?"kcFormPasswordVisibilityIconHide":"kcFormPasswordVisibilityIconShow"),"aria-hidden":!0})})]})}export{A as default};
