import{r as b,j as s}from"./index-C1swb0FA.js";import{g as f,c as k,a as F}from"./KcPage-C3DXFsxa.js";function A(p){var i,c;const{kcContext:l,i18n:d,doUseDefaultCss:m,Template:o,classes:u}=p,{kcClsx:e}=f({doUseDefaultCss:m,classes:u}),{social:g,realm:r,url:j,usernameHidden:x,login:h,auth:C,registrationDisabled:w,messagesPerField:n}=l,{msg:a,msgStr:v}=d,[O,I]=b.useState(!1);return s.jsx(o,Object.assign({kcContext:l,i18n:d,doUseDefaultCss:m,classes:u,displayMessage:!n.existsError("username","password"),headerNode:a("loginAccountTitle"),displayInfo:r.password&&r.registrationAllowed&&!w,infoNode:s.jsx("div",Object.assign({id:"kc-registration-container"},{children:s.jsx("div",Object.assign({id:"kc-registration"},{children:s.jsxs("span",{children:[a("noAccount")," ",s.jsx("a",Object.assign({tabIndex:8,href:j.registrationUrl},{children:a("doRegister")}))]})}))})),socialProvidersNode:s.jsx(s.Fragment,{children:r.password&&((i=g.providers)===null||i===void 0?void 0:i.length)&&s.jsxs("div",Object.assign({id:"kc-social-providers",className:e("kcFormSocialAccountSectionClass")},{children:[s.jsx("hr",{}),s.jsx("h2",{children:a("identity-provider-login-label")}),s.jsx("ul",Object.assign({className:e("kcFormSocialAccountListClass",g.providers.length>3&&"kcFormSocialAccountListGridClass")},{children:g.providers.map((...[t,,N])=>s.jsx("li",{children:s.jsxs("a",Object.assign({id:`social-${t.alias}`,className:e("kcFormSocialAccountListButtonClass",N.length>3&&"kcFormSocialAccountGridItem"),type:"button",href:t.loginUrl},{children:[t.iconClasses&&s.jsx("i",{className:k(e("kcCommonLogoIdP"),t.iconClasses),"aria-hidden":"true"}),s.jsx("span",Object.assign({className:k(e("kcFormSocialAccountNameClass"),t.iconClasses&&"kc-social-icon-text")},{children:t.displayName}))]}))},t.alias))}))]}))})},{children:s.jsx("div",Object.assign({id:"kc-form"},{children:s.jsx("div",Object.assign({id:"kc-form-wrapper"},{children:r.password&&s.jsxs("form",Object.assign({id:"kc-form-login",onSubmit:()=>(I(!0),!0),action:j.loginAction,method:"post"},{children:[!x&&s.jsxs("div",Object.assign({className:e("kcFormGroupClass")},{children:[s.jsx("label",Object.assign({htmlFor:"username",className:e("kcLabelClass")},{children:r.loginWithEmailAllowed?r.registrationEmailAsUsername?a("email"):a("usernameOrEmail"):a("username")})),s.jsx("input",{tabIndex:2,id:"username",className:e("kcInputClass"),name:"username",defaultValue:(c=h.username)!==null&&c!==void 0?c:"",type:"text",autoFocus:!0,autoComplete:"username","aria-invalid":n.existsError("username","password")}),n.existsError("username","password")&&s.jsx("span",Object.assign({id:"input-error",className:e("kcInputErrorMessageClass"),"aria-live":"polite"},{children:n.getFirstError("username","password")}))]})),s.jsxs("div",Object.assign({className:e("kcFormGroupClass")},{children:[s.jsx("label",Object.assign({htmlFor:"password",className:e("kcLabelClass")},{children:a("password")})),s.jsx(E,Object.assign({kcClsx:e,i18n:d,passwordInputId:"password"},{children:s.jsx("input",{tabIndex:3,id:"password",className:e("kcInputClass"),name:"password",type:"password",autoComplete:"current-password","aria-invalid":n.existsError("username","password")})})),x&&n.existsError("username","password")&&s.jsx("span",Object.assign({id:"input-error",className:e("kcInputErrorMessageClass"),"aria-live":"polite"},{children:n.getFirstError("username","password")}))]})),s.jsxs("div",Object.assign({className:e("kcFormGroupClass","kcFormSettingClass")},{children:[s.jsx("div",Object.assign({id:"kc-form-options"},{children:r.rememberMe&&!x&&s.jsx("div",Object.assign({className:"checkbox"},{children:s.jsxs("label",{children:[s.jsx("input",{tabIndex:5,id:"rememberMe",name:"rememberMe",type:"checkbox",defaultChecked:!!h.rememberMe})," ",a("rememberMe")]})}))})),s.jsx("div",Object.assign({className:e("kcFormOptionsWrapperClass")},{children:r.resetPasswordAllowed&&s.jsx("span",{children:s.jsx("a",Object.assign({tabIndex:6,href:j.loginResetCredentialsUrl},{children:a("doForgotPassword")}))})}))]})),s.jsxs("div",Object.assign({id:"kc-form-buttons",className:e("kcFormGroupClass")},{children:[s.jsx("input",{type:"hidden",id:"id-hidden-input",name:"credentialId",value:C.selectedCredential}),s.jsx("input",{tabIndex:7,disabled:O,className:e("kcButtonClass","kcButtonPrimaryClass","kcButtonBlockClass","kcButtonLargeClass"),name:"login",id:"kc-login",type:"submit",value:v("doLogIn")})]}))]}))}))}))}))}function E(p){const{kcClsx:i,i18n:c,passwordInputId:l,children:d}=p,{msgStr:m}=c,[o,u]=b.useReducer(e=>!e,!1);return b.useEffect(()=>{const e=document.getElementById(l);F.assert(e instanceof HTMLInputElement),e.type=o?"text":"password"},[o]),s.jsxs("div",Object.assign({className:i("kcInputGroup")},{children:[d,s.jsx("button",Object.assign({type:"button",className:i("kcFormPasswordVisibilityButtonClass"),"aria-label":m(o?"hidePassword":"showPassword"),"aria-controls":l,onClick:u},{children:s.jsx("i",{className:i(o?"kcFormPasswordVisibilityIconHide":"kcFormPasswordVisibilityIconShow"),"aria-hidden":!0})}))]}))}export{A as default};
