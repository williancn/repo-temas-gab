import{j as s,r as m}from"./index-CSf31SO4.js";import{g as x,a as k}from"./KcPage-C4X81u5g.js";function f(l){const{kcContext:e,i18n:r,doUseDefaultCss:o,Template:d,classes:c}=l,{kcClsx:a}=x({doUseDefaultCss:o,classes:c}),{msg:i,msgStr:n}=r,{url:w,messagesPerField:t,isAppInitiatedAction:p}=e;return s.jsx(d,{kcContext:e,i18n:r,doUseDefaultCss:o,classes:c,displayMessage:!t.existsError("password","password-confirm"),headerNode:i("updatePasswordTitle"),children:s.jsxs("form",{id:"kc-passwd-update-form",className:a("kcFormClass"),action:w.loginAction,method:"post",children:[s.jsx("div",{className:a("kcFormGroupClass"),children:s.jsxs("div",{className:a("kcLabelWrapperClass"),children:[s.jsx("label",{htmlFor:"password-new",className:a("kcLabelClass"),children:i("passwordNew")}),s.jsxs("div",{className:a("kcInputWrapperClass"),children:[s.jsx(u,{kcClsx:a,i18n:r,passwordInputId:"password-new",children:s.jsx("input",{type:"password",id:"password-new",name:"password-new",className:a("kcInputClass"),autoFocus:!0,autoComplete:"new-password","aria-invalid":t.existsError("password","password-confirm")})}),t.existsError("password")&&s.jsx("span",{id:"input-error-password",className:a("kcInputErrorMessageClass"),"aria-live":"polite",children:t.get("password")})]})]})}),s.jsxs("div",{className:a("kcFormGroupClass"),children:[s.jsx("div",{className:a("kcLabelWrapperClass"),children:s.jsx("label",{htmlFor:"password-confirm",className:a("kcLabelClass"),children:i("passwordConfirm")})}),s.jsxs("div",{className:a("kcInputWrapperClass"),children:[s.jsx(u,{kcClsx:a,i18n:r,passwordInputId:"password-confirm",children:s.jsx("input",{type:"password",id:"password-confirm",name:"password-confirm",className:a("kcInputClass"),autoFocus:!0,autoComplete:"new-password","aria-invalid":t.existsError("password","password-confirm")})}),t.existsError("password-confirm")&&s.jsx("span",{id:"input-error-password-confirm",className:a("kcInputErrorMessageClass"),"aria-live":"polite",children:t.get("password-confirm")})]})]}),s.jsx("div",{style:{paddingBottom:"42px"},children:s.jsx(h,{kcClsx:a,i18n:r})}),s.jsxs("div",{id:"kc-form-buttons",className:a("kcFormButtonsClass"),children:[s.jsx("input",{className:a("kcButtonClass","kcButtonPrimaryClass",p&&"kcButtonBlockClass","kcButtonLargeClass"),type:"submit",value:n("doSubmit")}),p&&s.jsx("button",{className:a("kcButtonClass","kcButtonDefaultClass","kcButtonLargeClass"),type:"submit",name:"cancel-aia",value:"true",children:i("doCancel")})]})]})})}function h(l){const{kcClsx:e,i18n:r}=l,{msg:o}=r;return s.jsx("div",{id:"kc-form-options",className:e("kcFormOptionsClass"),children:s.jsx("div",{className:e("kcFormOptionsWrapperClass"),children:s.jsx("div",{className:"checkbox",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",id:"logout-sessions",name:"logout-sessions",value:"on",defaultChecked:!0}),o("logoutOtherSessions")]})})})})}function u(l){const{kcClsx:e,i18n:r,passwordInputId:o,children:d}=l,{msgStr:c}=r,[a,i]=m.useReducer(n=>!n,!1);return m.useEffect(()=>{const n=document.getElementById(o);k.assert(n instanceof HTMLInputElement),n.type=a?"text":"password"},[a]),s.jsxs("div",{className:e("kcInputGroup"),children:[d,s.jsx("button",{type:"button",className:e("kcFormPasswordVisibilityButtonClass"),"aria-label":c(a?"hidePassword":"showPassword"),"aria-controls":o,onClick:i,children:s.jsx("i",{className:e(a?"kcFormPasswordVisibilityIconHide":"kcFormPasswordVisibilityIconShow"),"aria-hidden":!0})})]})}export{f as default};
