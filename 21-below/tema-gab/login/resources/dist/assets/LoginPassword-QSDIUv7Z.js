import{r as m,j as s}from"./index-CZQagKpW.js";import{g as j,c as b,a as w}from"./KcPage-Br_yE9qQ.js";function f(c){const{kcContext:t,i18n:o,doUseDefaultCss:r,Template:l,classes:i}=c,{kcClsx:e}=j({doUseDefaultCss:r,classes:i}),{realm:d,url:a,messagesPerField:n}=t,{msg:p,msgStr:u}=o,[g,x]=m.useState(!1);return s.jsx(l,Object.assign({kcContext:t,i18n:o,doUseDefaultCss:r,classes:i,headerNode:p("doLogIn"),displayMessage:!n.existsError("password")},{children:s.jsx("div",Object.assign({id:"kc-form"},{children:s.jsx("div",Object.assign({id:"kc-form-wrapper"},{children:s.jsxs("form",Object.assign({id:"kc-form-login",onSubmit:()=>(x(!0),!0),action:a.loginAction,method:"post"},{children:[s.jsxs("div",Object.assign({className:b(e("kcFormGroupClass"),"no-bottom-margin")},{children:[s.jsx("hr",{}),s.jsx("label",Object.assign({htmlFor:"password",className:e("kcLabelClass")},{children:p("password")})),s.jsx(k,Object.assign({kcClsx:e,i18n:o,passwordInputId:"password"},{children:s.jsx("input",{tabIndex:2,id:"password",className:e("kcInputClass"),name:"password",type:"password",autoFocus:!0,autoComplete:"on","aria-invalid":n.existsError("username","password")})})),n.existsError("password")&&s.jsx("span",Object.assign({id:"input-error-password",className:e("kcInputErrorMessageClass"),"aria-live":"polite"},{children:n.get("password")}))]})),s.jsxs("div",Object.assign({className:e("kcFormGroupClass","kcFormSettingClass")},{children:[s.jsx("div",{id:"kc-form-options"}),s.jsx("div",Object.assign({className:e("kcFormOptionsWrapperClass")},{children:d.resetPasswordAllowed&&s.jsx("span",{children:s.jsx("a",Object.assign({tabIndex:5,href:a.loginResetCredentialsUrl},{children:p("doForgotPassword")}))})}))]})),s.jsx("div",Object.assign({id:"kc-form-buttons",className:e("kcFormGroupClass")},{children:s.jsx("input",{tabIndex:4,className:e("kcButtonClass","kcButtonPrimaryClass","kcButtonBlockClass","kcButtonLargeClass"),name:"login",id:"kc-login",type:"submit",value:u("doLogIn"),disabled:g})}))]}))}))}))}))}function k(c){const{kcClsx:t,i18n:o,passwordInputId:r,children:l}=c,{msgStr:i}=o,[e,d]=m.useReducer(a=>!a,!1);return m.useEffect(()=>{const a=document.getElementById(r);w.assert(a instanceof HTMLInputElement),a.type=e?"text":"password"},[e]),s.jsxs("div",Object.assign({className:t("kcInputGroup")},{children:[l,s.jsx("button",Object.assign({type:"button",className:t("kcFormPasswordVisibilityButtonClass"),"aria-label":i(e?"hidePassword":"showPassword"),"aria-controls":r,onClick:d},{children:s.jsx("i",{className:t(e?"kcFormPasswordVisibilityIconHide":"kcFormPasswordVisibilityIconShow"),"aria-hidden":!0})}))]}))}export{f as default};
